///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
#include "jfengine.h"
#include "jfrendersystem.h"
#include "jfinputsystem.h"

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
bool JFENGINE::Init()
{
	if (Inited) return false;
	RenderSystem = new JFRENDER_SYSTEM();
	InputSystem = new JFINPUT_SYSTEM();
	if(!RenderSystem->Init()) return false;
	if (!InputSystem->Init(RenderSystem->GetWindow())) return false;
	Inited = true;
	return true;
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
void JFENGINE::Deinit()
{
	if (!Inited) return;
	RenderSystem->Deinit();
	InputSystem->Deinit();
	Inited = false;
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
void JFENGINE::Update(float DeltaTime)
{
	if (!Inited) return;
	RenderSystem->Update(DeltaTime);
	InputSystem->Update(DeltaTime);
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
bool JFENGINE::ShouldExit()
{
	return RenderSystem->ShouldExit();
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
JFINPUT_SYSTEM* JFENGINE::GetInputSystem()
{
	return InputSystem;
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
JFRENDER_SYSTEM* JFENGINE::GetRenderSystem()
{
	return RenderSystem;
}